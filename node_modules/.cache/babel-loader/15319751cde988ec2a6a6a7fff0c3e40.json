{"ast":null,"code":"var _jsxFileName = \"D:\\\\Workspace\\\\react\\\\test\\\\src\\\\components\\\\ProfileMenu.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Avatar, IconButton, Tooltip } from '@mui/material';\nimport DropdownMenu from \"../core/DropdownMenu\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { logout } from '../store/actions';\nimport auth from \"../services/auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst menuList = [{\n  title: 'Profile',\n  to: '',\n  icon: '',\n  avatar: true,\n  sep: false\n}, {\n  title: 'My Account',\n  to: '',\n  icon: '',\n  avatar: true,\n  sep: true\n}, {\n  title: 'Settings',\n  to: '',\n  icon: 'settings',\n  avatar: false,\n  sep: false\n}, {\n  title: 'Logout',\n  to: '',\n  icon: 'logout',\n  avatar: false,\n  sep: false\n}];\n\nconst ProfileMenu = props => {\n  _s();\n\n  const dispatch = useDispatch();\n  const userName = useSelector(state => state.user.name);\n  const [MenuList, setMenuList] = useState();\n  const [menuEl, setMenuEl] = React.useState(null);\n  const menuOpen = Boolean(menuEl);\n\n  const menuClick = event => {\n    setMenuEl(event.currentTarget);\n  };\n\n  const menuClose = () => {\n    setMenuEl(null);\n  };\n\n  const onItemClick = async item => {\n    if (item.title === 'Logout') {\n      let res = await auth.logout();\n\n      if (res && res.success) {\n        dispatch(logout());\n      }\n    }\n  };\n\n  useEffect(() => {\n    setMenuList(menuList);\n  }, []);\n\n  const getNameFirstCharacter = () => userName[0].toUpperCase();\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n      title: \"Account settings\",\n      children: /*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: menuClick,\n        size: \"small\",\n        sx: {\n          ml: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(Avatar, {\n          sx: {\n            width: 25,\n            height: 25,\n            fontSize: '13px',\n            background: '#11417f',\n            color: '#fff'\n          },\n          children: getNameFirstCharacter()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DropdownMenu, {\n      menuEl: menuEl,\n      menuOpen: menuOpen,\n      onClose: menuClose,\n      onClick: menuClose,\n      menuList: MenuList,\n      onItemClick: onItemClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ProfileMenu, \"KUp9Wht4anc8ss76Ca85oOshuFs=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = ProfileMenu;\nexport default ProfileMenu;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileMenu\");","map":{"version":3,"names":["React","useState","useEffect","Avatar","IconButton","Tooltip","DropdownMenu","useDispatch","useSelector","logout","auth","menuList","title","to","icon","avatar","sep","ProfileMenu","props","dispatch","userName","state","user","name","MenuList","setMenuList","menuEl","setMenuEl","menuOpen","Boolean","menuClick","event","currentTarget","menuClose","onItemClick","item","res","success","getNameFirstCharacter","toUpperCase","ml","width","height","fontSize","background","color"],"sources":["D:/Workspace/react/test/src/components/ProfileMenu.tsx"],"sourcesContent":["import React,{useState,useEffect} from \"react\";\r\nimport {Avatar, Button, IconButton, Tooltip} from '@mui/material';\r\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\r\nimport DropdownMenu,{TypeItem} from \"../core/DropdownMenu\";\r\n\r\nimport { useDispatch,useSelector } from \"react-redux\";\r\nimport {logout, switchApp} from '../store/actions';\r\nimport client from \"../services/client\";\r\nimport auth from \"../services/auth\";\r\n\r\n\r\nconst menuList:TypeItem[] = [\r\n    {title:'Profile',to:'',icon:'',avatar:true,sep:false},\r\n    {title:'My Account',to:'',icon:'',avatar:true,sep:true},\r\n    {title:'Settings',to:'',icon:'settings',avatar:false,sep:false},\r\n    {title:'Logout',to:'',icon:'logout',avatar:false,sep:false}\r\n];\r\n\r\nconst ProfileMenu:React.FC = (props:any)=>{\r\n    \r\n    const dispatch = useDispatch();\r\n    \r\n    const userName = useSelector((state:any)=>state.user.name);\r\n\r\n    const [MenuList,setMenuList] = useState<TypeItem[]|[]>();\r\n\r\n    const [menuEl, setMenuEl] = React.useState<null | HTMLElement>(null);\r\n    const menuOpen = Boolean(menuEl);\r\n    const menuClick = (event: React.MouseEvent<HTMLElement>) => {\r\n        setMenuEl(event.currentTarget);\r\n    };\r\n    const menuClose = () => {\r\n        setMenuEl(null);\r\n    };\r\n\r\n    const onItemClick = async (item:any)=>{\r\n        if(item.title === 'Logout'){\r\n            let res:any = await auth.logout();\r\n            if(res && res.success){\r\n                dispatch(logout());\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        setMenuList(menuList);\r\n    },[])\r\n\r\n    const getNameFirstCharacter =()=> userName[0].toUpperCase();\r\n\r\n    return (\r\n        <>\r\n            <Tooltip title=\"Account settings\">\r\n                <IconButton onClick={menuClick} size=\"small\" sx={{ ml: 2 }}>\r\n                    <Avatar sx={{ width: 25, height: 25,fontSize:'13px',background:'#11417f',color:'#fff' }} >{getNameFirstCharacter()}</Avatar>\r\n                </IconButton>\r\n            </Tooltip>\r\n            <DropdownMenu \r\n                menuEl={menuEl} \r\n                menuOpen={menuOpen} \r\n                onClose={menuClose} \r\n                onClick={menuClose} \r\n                menuList={MenuList}\r\n                onItemClick={onItemClick}/>\r\n            \r\n        </>\r\n    );\r\n}\r\n\r\nexport default ProfileMenu;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAuBC,SAAvB,QAAuC,OAAvC;AACA,SAAQC,MAAR,EAAwBC,UAAxB,EAAoCC,OAApC,QAAkD,eAAlD;AAEA,OAAOC,YAAP,MAAoC,sBAApC;AAEA,SAASC,WAAT,EAAqBC,WAArB,QAAwC,aAAxC;AACA,SAAQC,MAAR,QAAgC,kBAAhC;AAEA,OAAOC,IAAP,MAAiB,kBAAjB;;;AAGA,MAAMC,QAAmB,GAAG,CACxB;EAACC,KAAK,EAAC,SAAP;EAAiBC,EAAE,EAAC,EAApB;EAAuBC,IAAI,EAAC,EAA5B;EAA+BC,MAAM,EAAC,IAAtC;EAA2CC,GAAG,EAAC;AAA/C,CADwB,EAExB;EAACJ,KAAK,EAAC,YAAP;EAAoBC,EAAE,EAAC,EAAvB;EAA0BC,IAAI,EAAC,EAA/B;EAAkCC,MAAM,EAAC,IAAzC;EAA8CC,GAAG,EAAC;AAAlD,CAFwB,EAGxB;EAACJ,KAAK,EAAC,UAAP;EAAkBC,EAAE,EAAC,EAArB;EAAwBC,IAAI,EAAC,UAA7B;EAAwCC,MAAM,EAAC,KAA/C;EAAqDC,GAAG,EAAC;AAAzD,CAHwB,EAIxB;EAACJ,KAAK,EAAC,QAAP;EAAgBC,EAAE,EAAC,EAAnB;EAAsBC,IAAI,EAAC,QAA3B;EAAoCC,MAAM,EAAC,KAA3C;EAAiDC,GAAG,EAAC;AAArD,CAJwB,CAA5B;;AAOA,MAAMC,WAAoB,GAAIC,KAAD,IAAa;EAAA;;EAEtC,MAAMC,QAAQ,GAAGZ,WAAW,EAA5B;EAEA,MAAMa,QAAQ,GAAGZ,WAAW,CAAEa,KAAD,IAAaA,KAAK,CAACC,IAAN,CAAWC,IAAzB,CAA5B;EAEA,MAAM,CAACC,QAAD,EAAUC,WAAV,IAAyBxB,QAAQ,EAAvC;EAEA,MAAM,CAACyB,MAAD,EAASC,SAAT,IAAsB3B,KAAK,CAACC,QAAN,CAAmC,IAAnC,CAA5B;EACA,MAAM2B,QAAQ,GAAGC,OAAO,CAACH,MAAD,CAAxB;;EACA,MAAMI,SAAS,GAAIC,KAAD,IAA0C;IACxDJ,SAAS,CAACI,KAAK,CAACC,aAAP,CAAT;EACH,CAFD;;EAGA,MAAMC,SAAS,GAAG,MAAM;IACpBN,SAAS,CAAC,IAAD,CAAT;EACH,CAFD;;EAIA,MAAMO,WAAW,GAAG,MAAOC,IAAP,IAAkB;IAClC,IAAGA,IAAI,CAACvB,KAAL,KAAe,QAAlB,EAA2B;MACvB,IAAIwB,GAAO,GAAG,MAAM1B,IAAI,CAACD,MAAL,EAApB;;MACA,IAAG2B,GAAG,IAAIA,GAAG,CAACC,OAAd,EAAsB;QAClBlB,QAAQ,CAACV,MAAM,EAAP,CAAR;MACH;IACJ;EACJ,CAPD;;EASAP,SAAS,CAAC,MAAI;IACVuB,WAAW,CAACd,QAAD,CAAX;EACH,CAFQ,EAEP,EAFO,CAAT;;EAIA,MAAM2B,qBAAqB,GAAE,MAAKlB,QAAQ,CAAC,CAAD,CAAR,CAAYmB,WAAZ,EAAlC;;EAEA,oBACI;IAAA,wBACI,QAAC,OAAD;MAAS,KAAK,EAAC,kBAAf;MAAA,uBACI,QAAC,UAAD;QAAY,OAAO,EAAET,SAArB;QAAgC,IAAI,EAAC,OAArC;QAA6C,EAAE,EAAE;UAAEU,EAAE,EAAE;QAAN,CAAjD;QAAA,uBACI,QAAC,MAAD;UAAQ,EAAE,EAAE;YAAEC,KAAK,EAAE,EAAT;YAAaC,MAAM,EAAE,EAArB;YAAwBC,QAAQ,EAAC,MAAjC;YAAwCC,UAAU,EAAC,SAAnD;YAA6DC,KAAK,EAAC;UAAnE,CAAZ;UAAA,UAA2FP,qBAAqB;QAAhH;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QADJ,eAMI,QAAC,YAAD;MACI,MAAM,EAAEZ,MADZ;MAEI,QAAQ,EAAEE,QAFd;MAGI,OAAO,EAAEK,SAHb;MAII,OAAO,EAAEA,SAJb;MAKI,QAAQ,EAAET,QALd;MAMI,WAAW,EAAEU;IANjB;MAAA;MAAA;MAAA;IAAA,QANJ;EAAA,gBADJ;AAiBH,CAjDD;;GAAMjB,W;UAEeV,W,EAEAC,W;;;KAJfS,W;AAmDN,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}